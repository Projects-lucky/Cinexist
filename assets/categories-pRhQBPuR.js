import{r as o,j as e,L as j}from"./index-B49es1wc.js";import{A as N,h,E as k,G as C,t as G,N as M,y as S,H as L,I as T}from"./footer-DRIY9sfi.js";import{c as p,H as $}from"./header-N7jTk_k-.js";import{a as _}from"./TvShowCard-DXLG2mYR.js";import{G as g}from"./index-CcE_i1sr.js";import"./index-BTueGfFV.js";import"./index-DNEDt5V4.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],H=p("chevron-left",z);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],I=p("chevron-right",F);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],R=p("film",E);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],A=p("tv",V),B=({onGenreSelect:s})=>{const[r,l]=o.useState(!1),[a,t]=o.useState("movies"),[c,v]=o.useState(null),[i,y]=o.useState([]),[x,w]=o.useState([]),f=o.useRef(null);o.useEffect(()=>{(async()=>{const[u,m]=await Promise.all([k(),C()]);u!=null&&u.genres&&y(u.genres),m!=null&&m.genres&&w(m.genres)})()},[]);const n=a==="movies"?i:x,b=()=>{l(!1)};return e.jsxs("div",{className:"relative top-0 left-0 h-screen z-50",children:[e.jsx("div",{className:"absolute top-6 left-0 z-50",children:e.jsx("button",{onClick:()=>l(!0),className:`bg-c-red hover:bg-red-600 text-white rounded-r-full px-4 py-2 shadow-lg transition-transform duration-300 ${r?"hidden":"block"}`,children:e.jsx(I,{className:"w-5 h-5"})})}),e.jsx(N,{children:r&&e.jsxs(h.aside,{ref:f,initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:200,damping:20},onMouseLeave:b,className:"w-72 h-full bg-gradient-to-b from-black via-zinc-900 to-black text-white shadow-xl p-4 flex flex-col space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>l(!1),className:"bg-c-red hover:bg-red-600 p-2 rounded-full text-white shadow",children:e.jsx(H,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"flex justify-around",children:[e.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${a==="movies"?"bg-c-red text-black":"hover:bg-zinc-800"}`,onClick:()=>t("movies"),children:[e.jsx(R,{className:"w-5 h-5"}),"Movies"]}),e.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${a==="tv"?"bg-c-red text-black":"hover:bg-zinc-800"}`,onClick:()=>t("tv"),children:[e.jsx(A,{className:"w-5 h-5"}),"TV Shows"]})]}),e.jsx("div",{className:"overflow-y-auto mt-2 pr-2 flex-1 scrollbar-hide",children:e.jsx("ul",{className:"space-y-2",children:n&&n.length>0?n.map(d=>e.jsx(h.li,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{v(d.id),s(d.id,a)},className:`p-2 rounded-md cursor-pointer transition-all ${c===d.id?"bg-c-red text-black":"hover:bg-zinc-800"}`,children:d.name},d.id)):e.jsx("li",{className:"text-gray-400 text-sm italic",children:"Loading genres..."})})})]})})]})};function q(s){return g({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(s)}function O(s){return g({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(s)}const W=({currentPage:s,totalPages:r,onPageChange:l})=>{const a=()=>{const t=[];return s>1&&t.push(s-1),t.push(s),s<r&&t.push(s+1),s<r-1&&t.push("..."),t};return e.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-4",children:[e.jsx(h.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>l(Math.max(1,s-1)),disabled:s===1,className:"flex items-center justify-center w-10 h-10 bg-gray-800 text-white rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(q,{size:20})}),e.jsx("div",{className:"flex items-center space-x-2",children:a().map((t,c)=>e.jsx(h.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>typeof t=="number"&&l(t),disabled:t==="...",className:`px-4 py-2 rounded-full ${t===s?"bg-red-500 text-white font-bold":"bg-gray-700 text-gray-300"} ${t==="..."?"cursor-default":"cursor-pointer"}`,children:t},`${t}-${c}`))}),e.jsx(h.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>l(Math.min(r,s+1)),disabled:s===r,className:"flex items-center justify-center w-10 h-10 bg-gray-800 text-white rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(O,{size:20})})]})},Z=()=>{var f;const[s,r]=o.useState(null),[l,a]=o.useState(1),[t,c]=o.useState("movies"),v=async()=>t==="movies"?await L(s,l):await T(s,l),{data:i,isLoading:y,error:x}=G({queryKey:["genreContent",t,s,l],queryFn:v}),w=(n,b)=>{r(n),a(1),c(b)};return e.jsxs(e.Fragment,{children:[e.jsx($,{}),e.jsxs("div",{className:"w-full h-full flex flex-row items-start relative overflow-hidden bg-c-d-grey",children:[e.jsx("section",{className:"w-auto h-full flex flex-col justify-start items-start absolute top-0 left-0",children:e.jsx(B,{onGenreSelect:w,onMediaTypeChange:c})}),e.jsxs("section",{className:"w-full h-[100vh] flex flex-col space-y-2.5 relative",children:[e.jsxs("div",{className:"w-full h-full flex flex-col space-y-2.5 p-4 relative",children:[y&&e.jsxs("div",{className:"text-white absolute top-[40%] left-[50%] w-full h-full",children:[e.jsx(j,{}),"Loading movies..."]}),x&&e.jsxs("div",{className:"text-red-500",children:["Error: ",x.message]}),e.jsx("div",{className:"cat-grid w-full overflow-y-auto h-[85vh] scrollbar-hide overflow-x-hidden",children:(f=i==null?void 0:i.results)==null?void 0:f.map(n=>t==="movies"?e.jsx(M,{movies:n,genres:(i==null?void 0:i.genres)||[]},n.id):e.jsx(_,{movies:n,genres:(i==null?void 0:i.genres)||[]},n.id))})]}),e.jsx("div",{className:"flex flex-row justify-center items-center w-auto h-auto p-2",children:(i==null?void 0:i.total_pages)>1&&e.jsx(W,{currentPage:l,totalPages:i.total_pages,onPageChange:a})})]})]}),e.jsx(S,{})]})};export{Z as default};
