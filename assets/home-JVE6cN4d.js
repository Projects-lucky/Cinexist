import{r as d,j as e,L as T,u as V,a as F}from"./index-B49es1wc.js";import{u as R,m as X,M as q,a as G,f as K,c as U,i as Q,b as M,F as Y,d as Z,N as J,e as O,g as A,h as j,A as S,j as ee,k as te,l as se,n as re,o as ae,p as le,q as z,r as L,R as ne,C as oe,B as ie,s as I,t as W,v as ce,w as de,x as ue,y as he}from"./footer-DRIY9sfi.js";import{T as xe,a as fe,u as ge,b as H}from"./TvShowCard-DXLG2mYR.js";import{M as me}from"./index-CcE_i1sr.js";import{S as B}from"./SwitchTabs-rN2VYsOI.js";import{H as pe}from"./header-N7jTk_k-.js";import"./index-BTueGfFV.js";import"./index-DNEDt5V4.js";function _(t){const r=R(()=>X(t)),{isStatic:a}=d.useContext(q);if(a){const[,s]=d.useState(t);d.useEffect(()=>r.on("change",s),[])}return r}function P(t,r){const a=_(r()),s=()=>a.set(r());return s(),G(()=>{const n=()=>K.preRender(s,!1,!0),i=t.map(c=>c.on("change",n));return()=>{i.forEach(c=>c()),U(s)}}),a}const ve=t=>t&&typeof t=="object"&&t.mix,je=t=>ve(t)?t.mix:void 0;function we(...t){const r=!Array.isArray(t[0]),a=r?0:-1,s=t[0+a],n=t[1+a],i=t[2+a],c=t[3+a],x=Q(n,i,{mixer:je(i[0]),...c});return r?x(s):x}function ye(t){M.current=[],t();const r=P(M.current,t);return M.current=void 0,r}function be(t,r,a,s){if(typeof t=="function")return ye(t);const n=typeof r=="function"?r:we(r,a,s);return Array.isArray(t)?E(t,n):E([t],([i])=>n(i))}function E(t,r){const a=R(()=>[]);return P(t,()=>{a.length=0;const s=t.length;for(let n=0;n<s;n++)a[n]=t[n].get();return r(a)})}const Ne=({Stitle:t="Movies",Sgenres:r=[],Smovies:a=[]})=>{var N,y,k,C;const s=d.useRef(null),[n,i]=d.useState(!1),[c,x]=d.useState(0),[o,h]=d.useState(0),l=g=>{i(!0),x(g.pageX||g.touches[0].pageX),h(s.current.scrollLeft)},u=()=>{i(!1)},v=g=>{if(!n)return;g.preventDefault();const f=(g.pageX||g.touches[0].pageX)-c;s.current.scrollLeft=o-f},b=g=>{const f=s.current,m=f.scrollWidth/a.length*4;f.scrollTo({left:g==="left"?f.scrollLeft-m:f.scrollLeft+m,behavior:"smooth"})};return e.jsxs("div",{className:"w-full max-w-[1940px] h-64 mx-auto px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 py-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:t}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b("left"),className:"p-2 rounded-full bg-white hover:bg-gray-100 disabled:opacity-50",disabled:((N=s.current)==null?void 0:N.scrollLeft)===0,children:e.jsx(Y,{className:"w-5 h-5 text-gray-800"})}),e.jsx("button",{onClick:()=>b("right"),className:"p-2 rounded-full bg-white hover:bg-gray-100 disabled:opacity-50",disabled:((y=s.current)==null?void 0:y.scrollLeft)+((k=s.current)==null?void 0:k.clientWidth)>=((C=s.current)==null?void 0:C.scrollWidth),children:e.jsx(Z,{className:"w-5 h-5 text-gray-800"})})]})]}),e.jsx("div",{ref:s,className:"flex gap-4 overflow-x-auto scrollbar-hide cursor-grab space-x-8.5 relative",onMouseDown:l,onMouseUp:u,onMouseLeave:u,onMouseMove:v,onTouchStart:l,onTouchEnd:u,onTouchMove:v,children:a.length===0?e.jsx("p",{className:"py-4 text-white",children:"No movies available"}):a.map((g,f)=>e.jsx("div",{className:"flex-shrink-0 w-[300px] relative hover:z-10",children:e.jsx(J,{movies:g,genres:r,Index:f})},g.id||f))})]})},ke=({currentPage:t,totalPages:r,onPageChange:a})=>r<=1?null:e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6 py-3",children:[e.jsx("button",{onClick:()=>a(t-1),disabled:t===1,className:"px-4 py-2 bg-c-d-grey/90 text-white rounded disabled:opacity-50",children:"‹ Prev"}),Array.from({length:r},(s,n)=>n+1).map(s=>e.jsx("button",{onClick:()=>a(s),className:`px-4 py-2 rounded ${t===s?"bg-c-red text-black font-bold":"bg-c-black text-white"}`,children:s},s)),e.jsx("button",{onClick:()=>a(t+1),disabled:t===r,className:"px-4 py-2 bg-c-d-grey/90 text-white rounded disabled:opacity-50",children:"Next ›"})]}),Ce=()=>{const{paginatedGenres:t,currentGenrePage:r,totalGenrePages:a,setGenrePage:s,isLoading:n,error:i}=O(5,10),c=o=>{if(typeof o!="number"||isNaN(o)){console.error("Invalid page number:",o);return}if(o<1||o>a){console.error("Page number out of bounds:",o);return}s(o),window.scrollTo(0,0)};if(n)return e.jsxs("div",{className:"mx-auto w-auto h-auto flex flex-col",children:[e.jsx(T,{}),e.jsx("p",{className:"text-white text-center py-8 mx-auto",children:"Loading Movies..."})]});if(i)return e.jsx("div",{className:"text-red-500 text-center py-8",children:e.jsxs("p",{children:["Genre Movies Error: ",i.message]})});const x=t.filter(o=>{var h;return((h=o.movies)==null?void 0:h.length)>0});return e.jsx("div",{className:"w-full h-auto flex flex-col relative overflow-y-visible z-0",children:x.length>0?e.jsxs(e.Fragment,{children:[x.map(({id:o,name:h,movies:l})=>e.jsx(Ne,{Smovies:l,Sgenres:[{id:o,name:h}],Stitle:h,SmediaType:"movie"},o)),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx(ke,{currentPage:r,totalPages:a,onPageChange:o=>c(o)})})]}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"No genres with movies found"})})},Te=({movies:t,loading:r=!1})=>{var f,p;const a=V(),[s,n]=d.useState(0),[i,c]=d.useState(!1),[x,o]=d.useState(!1);d.useRef(null);const h=_(0);be(h,[-100,0,100],[0,1,0]);const l=t[s],{watchlist:u,addToWatchlist:v,removeFromWatchlist:b}=F(),N=u.some(m=>m.id===(l==null?void 0:l.id)),{trailerKey:y}=A(l==null?void 0:l.id);d.useEffect(()=>{const m=setInterval(()=>{!i&&(t==null?void 0:t.length)>0&&n(w=>(w+1)%t.length)},4e3);return()=>clearInterval(m)},[i,t==null?void 0:t.length]);const k=()=>{N?b(l.id):v(l)},C=m=>{m.stopPropagation(),y?o(w=>!w):alert("Trailer not available for this movie.")},g=()=>{a(`/pageDetails/${l.id}?type=movie`)};return r?e.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-black",children:e.jsx(j.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-t-transparent border-blue-500 rounded-full"})}):!t||t.length===0?e.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-black text-white",children:"No movies available"}):e.jsxs("div",{className:"relative w-full lg:h-screen md:h-[60vh] sm:h-96 xs:h-72 overflow-hidden bg-black rounded-lg z-0",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsx(S,{mode:"wait",children:e.jsx(j.div,{onClick:g,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},className:"absolute inset-0",children:x&&y?e.jsx(xe,{trailerKey:y,onClose:()=>o(!1)}):e.jsx("img",{loading:"lazy",src:`https://image.tmdb.org/t/p/original${l.backdrop_path}`,alt:l.title,className:"w-full h-full object-cover"})},s)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-black/90 via-black/50 to-transparent flex items-end p-8 md:p-12 z-10",children:e.jsxs(j.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"max-w-2xl",children:[e.jsx("h1",{className:"text-4xl lg:text-6xl md:text-5xl sm:text-4xl xs:text-3xl font-bold text-white mb-2",children:l.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx("span",{className:"text-white/80",children:((f=l.release_date)==null?void 0:f.split("-")[0])||"N/A"}),e.jsx("span",{className:"text-white/80",children:"|"}),e.jsxs("span",{className:"flex items-center gap-1 text-white/80",children:[e.jsx(ee,{className:"text-yellow-400"}),((p=l.vote_average)==null?void 0:p.toFixed(1))||"N/A"]})]}),e.jsx("p",{className:"text-lg text-white/80 mb-6 line-clamp-2",children:l.overview||"No description available"}),e.jsxs("div",{className:"flex gap-4 relative flex-row items-center w-auto h-auto flex-wrap",children:[e.jsxs("button",{className:"lg:px-6 lg:py-3 md:px-4 md:py-3 sm:px-2 sm:py-3 xs:px-1 xs:py-2 md:text-lg xs:text-xs bg-white text-black rounded-md flex items-center gap-2 font-bold hover:bg-white/90 transition-all",onClick:C,children:[e.jsx(te,{})," ",x?"PAUSE":"PLAY TRAILER"]}),e.jsxs("button",{onClick:g,className:"md:px-6 md:py-3 xs:p-2 md:text-lg xs:text-xs bg-white/10 backdrop-blur-sm text-white rounded-md flex items-center gap-2 hover:bg-white/20 transition-all",children:[e.jsx(se,{})," DETAILS"]}),e.jsx("button",{className:"md:px-4 md:py-3 xs:p-2 xs:text-xs md:text-lg bg-white/10 backdrop-blur-sm text-white rounded-full flex items-center gap-2 hover:bg-white/20 transition-all",children:e.jsx(re,{className:`${N?"fill-c-red":"fill-c-l-grey"}`,onClick:k})})]})]})}),e.jsxs(j.div,{className:"absolute top-1/2 left-4 right-4 flex justify-between z-10",initial:{opacity:0},animate:{opacity:i?1:.5},transition:{duration:.3},children:[e.jsx("button",{onClick:()=>n(m=>(m-1+t.length)%t.length),className:"p-3 bg-black/50 backdrop-blur-sm rounded-full hover:bg-black/70 transition-all hover:ring-2 hover:ring-c-red active:ring-c-white",children:e.jsx(ae,{className:"text-white text-xl"})}),e.jsx("button",{onClick:()=>n(m=>(m+1)%t.length),className:"p-3 bg-black/50 backdrop-blur-sm rounded-full hover:bg-black/70 transition-all hover:ring-2 hover:ring-c-red active:ring-c-white",children:e.jsx(le,{className:"text-white text-xl"})})]}),e.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-2",children:t.map((m,w)=>e.jsx("button",{onClick:()=>n(w),className:"relative h-1 rounded-full overflow-hidden",children:e.jsx(j.div,{className:"h-full rounded-full",initial:{width:20,backgroundColor:"#ffffff30"},animate:{width:w===s?40:20,backgroundColor:w===s?"#ffffff":"#ffffff30"},transition:{duration:.3},children:w===s&&e.jsx(j.div,{className:"absolute top-0 left-0 h-full bg-c-red",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:4,ease:"linear"}})})},w))})]})},Me=()=>{const{data:t,loading:r,error:a}=z();if(r)return e.jsx("p",{className:"text-white",children:"Loading movies..."});if(a)return e.jsxs("p",{className:"text-red-500",children:["Error: ",a]});if(!(t!=null&&t.results)||t.results.length===0)return e.jsx("p",{className:"text-gray-400",children:"No movies found."});const s=t.results.slice(0,10);return e.jsx("div",{className:"w-full h-auto flex bg-c-d-grey",children:e.jsx(Te,{movies:s})})},D=({cards:t,genres:r,title:a})=>{const[s,n]=d.useState(null),[i,c]=d.useState("auto"),x=d.useRef(null),o=d.useRef([]);d.useEffect(()=>{o.current=o.current.slice(0,t.length)},[t]);const h=l=>{if(x.current){const u=l==="left"?-300:300;x.current.scrollBy({left:u,behavior:"smooth"})}};return d.useEffect(()=>{if(s!==null&&o.current[s]){const u=o.current[s].getBoundingClientRect().height;c(`${u+40}px`)}else c("auto")},[s]),e.jsxs("div",{className:"relative w-full px-12 bg-c-d-grey",children:[e.jsx("h2",{className:"text-2xl font-semibold capitalize text-c-l-grey my-4",children:a}),e.jsx("button",{onClick:()=>h("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-3 rounded-full shadow-md hover:bg-gray-100 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:()=>h("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-3 rounded-full shadow-md hover:bg-gray-100 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx(j.div,{className:"overflow-hidden",animate:{height:i},transition:{type:"spring",damping:25,stiffness:120},children:e.jsx("div",{ref:x,className:"flex space-x-1 overflow-x-scroll py-4 px-2 scrollbar-hide transition-all duration-300 ease-in-out",style:{scrollSnapType:"x mandatory"},children:e.jsx(S,{children:t.map((l,u)=>e.jsx(j.div,{ref:v=>o.current[u]=v,onHoverStart:()=>n(u),onHoverEnd:()=>n(null),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"mx-10",children:e.jsx(fe,{movies:l,genres:r},l.id)},l.id))})})})]})},Se=({movies:t,genres:r,Index:a})=>{var g;const s=V(),[n,i]=d.useState("N/A"),{data:c}=L(),{watchlist:x,addToWatchlist:o,removeFromWatchlist:h}=F(),l=x.some(f=>f.id===t.id),{trailerKey:u}=A(t.id),[v,b]=d.useState(!1),N=()=>{l?h(t.id):o(t)},y=d.useMemo(()=>!c||!t.genre_ids?"N/A":t.genre_ids.map(f=>{var p;return(p=c.genres.find(m=>m.id===f))==null?void 0:p.name}).filter(Boolean).join(" • ")||"N/A",[c,t.genre_ids]),k=f=>{const p={day:"2-digit",month:"short",year:"numeric"};return new Date(f).toLocaleDateString("en-US",p).replace(","," •")};d.useEffect(()=>{(async()=>{try{const p=await I(t.id);i(p)}catch(p){console.error("Error fetching movie rating:",p)}})()},[t.id]);const C=()=>{s(`/pageDetails/${t.id}?type=movie`)};return e.jsxs("div",{onClick:C,className:"movie-card w-80 h-auto flex flex-col group mx-12 shrink-0 group relative transform-3d",children:[e.jsx("span",{className:"absolute top-22 -ml-8.5 z-1 text-8xl font-bold ordinal cstm-text-shadow translate-z-2.5 rotate-x-10 rotate-z-0",children:a+1}),e.jsxs("div",{className:"relative w-full overflow-hidden h-44 flex shrink-0",children:[e.jsx("img",{loading:"lazy",src:t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:"/placeholder-movie.jpg",alt:t.title||t.name,className:"movie-poster w-full h-full object-cover absolute contrast-110 brightness-105 saturate-110"}),e.jsx(ne,{value:(g=t.vote_average)==null?void 0:g.toFixed(1),className:"absolute top-1 left-1"}),e.jsx(me,{className:`absolute right-0 w-8 h-12 ${l?"text-c-red":"text-c-l-grey"} cursor-pointer`,onClick:N}),u&&e.jsxs("div",{onClick:f=>{f.stopPropagation(),b(!0)},className:"w-auto h-auto hidden group-hover:flex flex-row justify-center items-center absolute top-[50%] left-[35%] animate-bounce",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-15 fill-c-red stroke-2 stroke-c-white hover:fill-c-d-grey hover:stroke-c-red hover:scale-105 cursor-pointer",children:e.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"})}),e.jsx("h2",{className:"text-2xl text-white font-bold capitalize hover:scale-105 relative",children:"play"})]}),v&&e.jsx(oe,{trailerKey:u,onClose:()=>b(!1)}),e.jsx("h2",{className:"movie-title line-clamp-2 font-semibold capitalize text-c-white text-lg absolute bottom-0 bg-gradient-to-b from-c-l-grey/0 to-c-black w-full h-auto py-2 xs:flex md:hidden",children:t.title||t.name})]}),e.jsxs("div",{className:"movie-details hidden w-full h-auto bg-c-black text-c-l-grey group-hover:flex flex-col transition-all delay-150 duration-300 ease-in-out space-y-1.5 pl-0.5",children:[e.jsx("h2",{className:"movie-title line-clamp-2 font-semibold capitalize text-c-white text-xl",children:t.title||t.name}),e.jsxs("div",{className:"meta-info flex flex-row flex-wrap space-x-3.5",children:[e.jsx("p",{className:"movie-rating bg-c-d-grey rounded-lg px-1.5 text-c-l-grey",children:t.certification||t.rating||"N/A"}),e.jsx("p",{className:"movie-duration text-c-l-grey bg-c-d-grey rounded-lg px-1.5",children:k(t.first_air_date||t.release_date)}),e.jsx("p",{className:"movie-duration text-c-l-grey bg-c-d-grey rounded-lg px-1.5 uppercase",children:t.original_language}),e.jsx(ie,{className:"size-6"})]}),e.jsx("div",{className:"meta-info flex flex-row flex-wrap space-x-3.5",children:e.jsx("p",{className:"movie-duration text-c-l-grey bg-c-d-grey rounded-lg px-1.5",children:y})}),e.jsx("p",{className:"movie-description line-clamp-3",children:t.overview})]})]})},$=({cards:t,genres:r,title:a})=>{const[s,n]=d.useState(null),[i,c]=d.useState("auto"),x=d.useRef(null),o=d.useRef([]);d.useEffect(()=>{o.current=o.current.slice(0,t.length)},[t]);const h=l=>{if(x.current){const u=l==="left"?-300:300;x.current.scrollBy({left:u,behavior:"smooth"})}};return d.useEffect(()=>{if(s!==null&&o.current[s]){const u=o.current[s].getBoundingClientRect().height;c(`${u+40}px`)}else c("auto")},[s]),e.jsxs("div",{className:"relative w-full px-12 bg-c-d-grey",children:[e.jsx("h2",{className:"text-2xl font-semibold capitalize text-c-l-grey my-4",children:a}),e.jsx("button",{onClick:()=>h("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-3 rounded-full shadow-md hover:bg-gray-100 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:()=>h("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-3 rounded-full shadow-md hover:bg-gray-100 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx(j.div,{className:"overflow-hidden",animate:{height:i},transition:{type:"spring",damping:25,stiffness:120},children:e.jsx("div",{ref:x,className:"flex space-x-1 overflow-x-scroll py-4 px-2 scrollbar-hide transition-all duration-300 ease-in-out",style:{scrollSnapType:"x mandatory"},children:e.jsx(S,{children:t.map((l,u)=>e.jsx(j.div,{ref:v=>o.current[u]=v,onHoverStart:()=>n(u),onHoverEnd:()=>n(null),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"mx-10",children:e.jsx(Se,{movies:l,genres:r,Index:u},l.id)},l.id))})})})]})},Le=()=>{const[t,r]=d.useState("Movies"),a=u=>{r(u)},{data:s,isLoading:n,error:i}=ge(),{data:c,isLoading:x,error:o}=z(),{data:h}=H(),{data:l}=L();return t==="Movies"&&x?e.jsxs("div",{className:"mx-auto w-auto h-auto flex flex-col",children:[e.jsx(T,{}),e.jsx("p",{className:"text-white text-center py-8 mx-auto",children:"Loading Movies..."})]}):t==="TV Shows"&&n?e.jsxs("div",{className:"mx-auto w-auto h-auto flex flex-col",children:[e.jsx(T,{}),e.jsx("p",{className:"text-white text-center py-8 mx-auto",children:"Loading TV Shows..."})]}):t==="Movies"&&o?e.jsxs("p",{className:"text-red-500 text-center py-8",children:["Movie Error: ",o.message]}):t==="TV Shows"&&i?e.jsxs("p",{className:"text-red-500 text-center py-8",children:["TV Error: ",i.message]}):e.jsxs("div",{className:"w-full h-auto flex flex-col",children:[e.jsx(B,{title:"What's Popular",options:["Movies","TV Shows"],onSwitch:a}),t==="Movies"?c!=null&&c.results&&c.results.length>0?e.jsx($,{cards:c.results,genres:(l==null?void 0:l.genres)||[],title:"Popular Movies",mediaType:"movie"}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"No movies found"}):s!=null&&s.results&&s.results.length>0?e.jsx(D,{cards:s.results,genres:(h==null?void 0:h.genres)||[],title:"Popular TV Shows",mediaType:"tv"}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"No TV shows found"})]})},Ee=(t="day")=>W({queryKey:["trendingMovies",t],queryFn:async()=>{try{const r=await ce(t);if(!(r!=null&&r.results))return{results:[]};const a=r.results.slice(0,10),s=await Promise.all(a.map(async n=>{try{const i=await I(n.id);return{...n,rating:i}}catch(i){return console.error(`Error fetching rating for movie ${n.id}:`,i),{...n,rating:"Not Rated"}}}));return{...r,results:[...s,...r.results.slice(10)]}}catch(r){throw console.error("Error fetching trending movies:",r),new Error("Failed to load trending movies")}},staleTime:10*60*1e3}),Ve=(t="day")=>W({queryKey:["trendingTVShows",t],queryFn:async()=>{try{const r=await de(t);if(!(r!=null&&r.results))return{results:[]};const a=r.results.slice(0,10),s=await Promise.all(a.map(async n=>{try{const i=await ue(n.id);return{...n,rating:i}}catch(i){return console.error(`Error fetching rating for TV show ${n.id}:`,i),{...n,rating:"Not Rated"}}}));return{...r,results:[...s,...r.results.slice(10)]}}catch(r){throw console.error("Error fetching trending TV shows:",r),new Error("Failed to load trending TV shows")}},staleTime:10*60*1e3}),Fe=()=>{const[t,r]=d.useState("Movies"),a=u=>{r(u)},{data:s,isLoading:n,error:i}=Ve(),{data:c,isLoading:x,error:o}=Ee(),{data:h}=H(),{data:l}=L();return t==="Movies"&&x?e.jsxs("div",{className:"mx-auto w-auto h-auto flex flex-col",children:[e.jsx(T,{}),e.jsx("p",{className:"text-white text-center py-8 mx-auto",children:"Loading Movies..."})]}):t==="TV Shows"&&n?e.jsxs("div",{className:"mx-auto w-auto h-auto flex flex-col",children:[e.jsx(T,{}),e.jsx("p",{className:"text-white text-center py-8 mx-auto",children:"Loading TV Shows..."})]}):t==="Movies"&&o?e.jsxs("p",{className:"text-red-500 text-center py-8",children:["Movie Error: ",o.message]}):t==="TV Shows"&&i?e.jsxs("p",{className:"text-red-500 text-center py-8",children:["TV Error: ",i.message]}):e.jsxs("div",{className:"w-full h-auto flex flex-col",children:[e.jsx(B,{title:"Trending",options:["Movies","TV Shows"],onSwitch:a}),t==="Movies"?c!=null&&c.results&&c.results.length>0?e.jsx($,{cards:c.results,genres:(l==null?void 0:l.genres)||[],title:"Trending Movies",mediaType:"movie"}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"No trending movies found"}):s!=null&&s.results&&s.results.length>0?e.jsx(D,{cards:s.results,genres:(h==null?void 0:h.genres)||[],title:"Trending TV Shows",mediaType:"tv"}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"No trending TV shows found"})]})},Re=()=>e.jsx(e.Fragment,{children:e.jsxs("main",{className:"w-full h-auto flex flex-col justify-between items-start relative space-y-8 text-c-red",children:[e.jsx(Me,{}),e.jsx(Le,{}),e.jsx(Fe,{}),e.jsx(Ce,{})]})}),De=()=>e.jsx(e.Fragment,{children:e.jsxs("section",{className:"w-full min-h-1/2 bg-c-d-grey flex flex-col justify-between items-start",children:[e.jsx(pe,{}),e.jsx(Re,{}),e.jsx(he,{})]})});export{De as default};
