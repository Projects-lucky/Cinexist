import{j as e,L as $,r as p,d as P,e as D,a as E}from"./index-B49es1wc.js";import{h as m,W as I,A as B,J as U,K as G,N as O,L as Z,O as K,P as H,Q as J,S as Q,g as q,R as y,y as V}from"./footer-DRIY9sfi.js";import{G as X,M as Y}from"./index-CcE_i1sr.js";import{a as ee}from"./TvShowCard-DXLG2mYR.js";import"./index-BTueGfFV.js";function k({icon:s,label:i,Text:a,onClick:o,buttonClassName:r="",iconClassName:c="",labelClassName:n="",textClassName:h=""}){return e.jsxs("button",{onClick:o,className:`w-auto h-auto flex flex-col decoration-0 group relative ${r}`,children:[s&&e.jsx(s,{className:`border-0 outline-0 text-4xl ${c}`}),i&&e.jsx("span",{className:`hidden ${n}`,children:i}),a&&e.jsx("p",{className:`hidden group-hover:flex absolute top-full z-20 mt-2.5 -ml-2.5 text-c-white bg-c-black rounded p-2 whitespace-nowrap text-sm ${h}`,children:a})]})}const te=({cast:s})=>{const i=I;return e.jsxs("div",{className:"relative px-2 py-6 bg-c-dark-grey rounded-lg w-full h-auto flex flex-col items-start justify-between overflow-hidden",children:[e.jsx("h2",{className:"text-2xl font-semibold capitalize text-c-white",children:"casts"}),e.jsx("div",{className:"overflow-x-auto py-4 scrollbar-hide w-full relative h-auto flex flex-row items-start justify-start space-x-4",children:e.jsx("div",{className:"flex gap-5",children:s==null?void 0:s.slice(0,20).map(a=>e.jsxs(m.div,{whileHover:{scale:1.05},className:"flex-shrink-0 w-32 text-center",children:[e.jsx("img",{className:"w-36 h-44 rounded-lg object-cover mb-2 bg-c-red",src:a.profile_path?`https://image.tmdb.org/t/p/w200${a.profile_path}`:i,alt:a.name,loading:"lazy"}),e.jsx("p",{className:"font-semibold text-c-white",children:a.name}),e.jsx("p",{className:"text-sm text-c-l-grey",children:a.character})]},a.id))})})]})},ae=({trailerKey:s,onClose:i,text:a})=>e.jsx(B,{children:e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-10 bg-black/90 flex items-center justify-center",children:[e.jsx("button",{onClick:i,className:"absolute top-6 right-6 text-3xl hover:text-red-500",children:e.jsx(U,{})}),e.jsx("div",{className:"w-full h-auto relative max-w-4xl aspect-video",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${s}?autoplay=1&mute=0&controls=0&modestbranding=1&rel=0&disablekb=1&playsinline=1`,allow:"autoplay; encrypted-media",className:"w-full h-full object-cover absolute rounded-lg"})})]})});function se(s){return X({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.421.01a2.947 2.947 0 0 0-2.828 1.52 2.967 2.967 0 0 0 1.094 4.076l10.6 6.064 4.79-2.672a3.546 3.546 0 0 1 1.811-.443L5.701.424A2.947 2.947 0 0 0 4.42.01ZM1.164 4.768v14.484a3.474 3.474 0 0 1 2.972-1.687 3.47 3.47 0 0 1 2.961 1.672l.004-10.53L2.44 6.04a3.433 3.433 0 0 1-1.275-1.271Zm18.42 4.289a3.08 3.08 0 0 0-1.264.379L7.6 15.414c.003 1.873-.011 3.745.003 5.617 0 .4-.072.988-.396 1.606l12.548-7.227 1.487-.83a2.978 2.978 0 0 0 1.463-3.511 3.08 3.08 0 0 0-3.121-2.012ZM4.136 18.065A2.967 2.967 0 1 0 4.134 24a2.967 2.967 0 0 0 .002-5.935z"},child:[]}]})(s)}const le=({movieId:s,mediaType:i})=>{const{similarMovies:a,loading:o}=G(s);return e.jsxs("div",{className:"mx-auto w-full h-auto flex flex-col",children:[e.jsx("h1",{children:"more like this"}),o&&e.jsx($,{}),e.jsx("div",{className:"cat-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 overflow-y-auto h-[85vh] scrollbar-hide",children:a==null?void 0:a.map(r=>e.jsx("div",{className:"relative w-full h-auto flex flex-col items-center justify-start p-2",children:r.media_type==="movie"||i==="movie"?e.jsx(O,{movies:r}):e.jsx(ee,{movies:r})},r.id))})]})},_=({text:s,maxLines:i=2})=>{const[a,o]=p.useState(!1),r=()=>{o(!a)};return e.jsxs("div",{className:"max-w-prose",children:[e.jsx("div",{className:`overflow-hidden ${a?"":"line-clamp-2"}`,style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:a?"unset":i},children:s}),e.jsx("button",{onClick:r,className:"text-blue-600 hover:text-blue-800 mt-1 text-sm font-medium focus:outline-none",children:a?"Read Less":"Read More"})]})},ie=({title:s,url:i})=>{const[a,o]=p.useState(!1),r=encodeURIComponent(i),c=encodeURIComponent(s),n=()=>{o(!a)};return e.jsxs("div",{className:"relative",children:[e.jsx(m.div,{className:"w-12 h-12 bg-indigo-500 text-white flex items-center justify-center rounded-full cursor-pointer shadow-lg",onClick:n,animate:{rotate:a?45:0},transition:{duration:.3},children:e.jsx("span",{className:"text-xl",children:"ðŸ“¤"})}),a&&e.jsxs(m.div,{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 flex space-x-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:[e.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${r}`,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center",children:e.jsx(Z,{size:20})}),e.jsx("a",{href:`https://twitter.com/intent/tweet?url=${r}&text=${c}`,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-blue-400 text-white rounded-full flex items-center justify-center",children:e.jsx(K,{size:20})}),e.jsx("a",{href:`https://api.whatsapp.com/send?text=${c}%20${r}`,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center",children:e.jsx(H,{size:20})})]})]})},ue=()=>{var w,g,j,v,b,N;const{id:s}=P(),i=D(),o=new URLSearchParams(i.search).get("type"),{certification:r}=J(s,o),{watchlist:c,addToWatchlist:n,removeFromWatchlist:h}=E(),{data:C,isLoading:L}=Q(s,o),{details:t,credits:z,similar:re,reviews:oe}=C||{},{trailerKey:S,isLoading:R}=q(s),[T,u]=p.useState(!1);if(L||R)return e.jsx($,{});if(!t)return e.jsx("div",{children:"Error: Movie details not found."});const d=c.some(l=>l.id===t.id),F=()=>{d?h(t.id):n(t)},f=l=>{const x={day:"2-digit",month:"short",year:"numeric"};return new Date(l).toLocaleDateString("en-US",x).replace(","," â€¢")},M=f(t.release_date||t.first_air_date||t.last_episode_to_air.air_date),W=t.runtime?`${Math.floor(t.runtime/60)}h ${t.runtime%60}m`:"N/A",A=window.location.href;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative w-full h-auto p-1 space-y-10 flex flex-col items-start justify-between overflow-hidden bg-c-black",children:[e.jsxs("div",{className:"relative min-h-[30rem] max-h-auto w-full flex md:flex-row sm:flex-col xs:flex-col sm:space-y-2.5 xs:space-y-3 md:items-end xs:items-center justify-around text-white rounded-lg",style:{backgroundImage:`
              linear-gradient(to bottom left, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 1)),
              url(${t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:"/placeholder-movie.jpg"})
            `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"multiply"},children:[e.jsx("h1",{className:"md:absolute md:top-0 mx-auto sm:relative xs:relative flex md:text-xl font-semibold capitalize italic bg-c-black rounded-b-xl p-2",children:t.tagline||t.title}),e.jsx("img",{className:"w-56 h-82 relative md:top-0 md:left-3.5 object-cover contrast-110 brightness-105 saturate-110 rounded-lg capitalize",src:t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:"/placeholder-movie.jpg",alt:t.title||t.name}),e.jsxs("div",{className:"md:w-1/2 sm:w-full xs:w-full h-auto flex flex-col relative backdrop-blur-xs shadow-md rounded-lg p-1 md:space-y-4 sm:space-y-5 xs:space-y-5",children:[e.jsx("h1",{className:"md:text-4xl sm:text-5xl xs:text-3xl font-semibold capitalize",children:t.title||t.original_name||t.name}),e.jsx(_,{text:t.overview}),e.jsxs("div",{className:"w-auto h-auto p-1 flex flex-row space-x-5 flex-wrap space-y-2",children:[e.jsx("p",{className:"flex whitespace-nowrap flex-wrap",children:M}),e.jsx("p",{className:"flex whitespace-nowrap flex-wrap",children:W}),e.jsx("p",{className:"flex whitespace-nowrap flex-wrap",children:t.status}),e.jsx("p",{className:"flex whitespace-nowrap flex-wrap",children:((w=t.origin_country)==null?void 0:w.join(" â€¢ "))||"NCS"}),e.jsx("p",{className:"flex whitespace-nowrap flex-wrap uppercase",children:t.original_language}),o==="tv"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"flex whitespace-nowrap flex-wrap capitalize",children:["Season ",((g=t.last_episode_to_air)==null?void 0:g.season_number)||"N/A"]}),e.jsxs("p",{className:"flex whitespace-nowrap flex-wrap capitalize",children:["Total Episodes ",((j=t.last_episode_to_air)==null?void 0:j.episode_number)||"N/A"]})]}),e.jsx("p",{className:"flex whitespace-nowrap flex-wrap uppercase border-2 px-2 mb-2 rounded-sm bg-c-d-gre/70",children:r||"N/A"})]}),e.jsxs("div",{className:"w-auto h-auto p-1 flex flex-col space-y-5",children:[e.jsx("h2",{className:"text-2xl font-semibold text-c-red",children:"Genres"}),e.jsx("div",{className:"w-auto h-auto flex flex-row space-x-5 flex-wrap",children:(v=t.genres)==null?void 0:v.map(l=>e.jsx("p",{className:"bg-c-black rounded-lg px-1.5 text-c-white",children:l.name},l.id))})]})]}),e.jsxs("div",{className:"w-auto h-auto flex md:flex-col sm:flex-row xs:flex-row md:space-y-2.5 sm:space-x-4 xs:space-x-5.5 md:items-start md:flex xs:mt-3.5 sm:mt-3.5",children:[e.jsx(y,{value:(b=t.vote_average)==null?void 0:b.toFixed(1),text:"Rating",className:"absolute top-1 left-1"}),e.jsxs("div",{className:"flex flex-row justify-center items-start w-auto h-auto",children:[e.jsx(k,{icon:se,label:"Play Trailer",onClick:()=>u(!0),Text:"Play Trailer",iconClassName:"hover:fill-c-red hover:scale-110 transition-all duration-300 cursor-pointer xs:mt-1.5 sm:mt-1.5 md:ml-1.5 text-emerald-400 drop-shadow-2xl drop-shadow-emerald-400"}),T&&e.jsx(ae,{trailerKey:S,onClose:()=>u(!1)})]}),e.jsx(k,{icon:Y,label:d?"Remove from Watchlist":"Add to Watchlist",onClick:F,Text:d?"Remove from Watchlist":"Add to Watchlist",iconClassName:`size-11 mt-1 ${d?"text-c-red":"text-c-white"} cursor-pointer hover:fill-c-red hover:scale-110 transition-all duration-300 cursor-pointer`}),e.jsx(ie,{url:A,title:t.title||t.original_name||t.name})]})]}),e.jsx("div",{className:"px-4 py-6 bg-c-dark-grey w-full h-auto flex flex-col items-start justify-between overflow-hidden",children:e.jsx(te,{cast:z.cast})}),o==="tv"&&e.jsxs("div",{className:"px-4 py-6 bg-c-dark-grey w-full h-auto flex flex-col items-start justify-between overflow-hidden",children:[e.jsx("h2",{className:"text-2xl font-semibold text-c-white capitalize mb-4",children:"all seasons"}),e.jsx("div",{className:"w-full h-auto flex flex-col space-y-5 flex-wrap",children:(N=t.seasons)==null?void 0:N.map(l=>{var x;return e.jsxs("div",{className:"w-auto md:h-60 xs:h-auto flex md:flex-row xs:flex-col relative md:space-x-6 xs:space-y-4 shadow-md shadow-c-d-grey",children:[e.jsxs("span",{className:"relative w-auto h-60 flex flex-shrink-0",children:[e.jsx("img",{src:l.poster_path?`https://image.tmdb.org/t/p/w500${l.poster_path}`:"/placeholder-movie.jpg",alt:l.name,className:"w-40 h-full object-cover rounded-lg"}),e.jsx(y,{value:(x=t.vote_average)==null?void 0:x.toFixed(1),className:"absolute top-1 left-1"})]}),e.jsxs("div",{className:"relative w-auto h-full bg-c-black/70 rounded-lg flex flex-col justify-start items-start text-c-white",children:[e.jsx("h2",{className:"text-xl font-semibold text-c-white mb-2",children:l.name}),e.jsx(_,{text:l.overview}),e.jsx("p",{className:"text-sm text-c-l-grey",children:l.air_date?f(l.air_date):"N/A"}),e.jsxs("p",{className:"text-sm text-c-l-grey",children:[l.episode_count," Episodes"]})]})]},l.id)})})]}),e.jsxs("div",{className:"px-4 py-6 bg-c-dark-grey w-full h-auto flex flex-col items-start justify-between overflow-hidden",children:[e.jsx("h2",{className:"text-2xl font-semibold text-c-white capitalize",children:"more like this"}),e.jsx(le,{movieId:s,mediaType:o})]})]}),e.jsx(V,{})]})};export{ue as default};
